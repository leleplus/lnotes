# Linux Shell脚本学习

---------------------
作者:乐乐

## 一、基础
1.拓展名:`*.sh`
2.存放路径:`/usr/local/sbin/`目录下
3.头
使用的是bash语法
```bash
#! /bin/bash
```
4.执行
```bash
sh [*.sh]
./*.sh
sh -x *.sh  # 执行脚本并查看执行过程
```
5.打印日期
```bash
$ date +arg
$ date "+arg1 arg2"
```
* 命令参数中间有空格或者特殊字符，需要加`""`

```bash
$ date
2020年01月22日 11:47:48
```
参数:
使用参数之前`+`
%Y 完整年份
%y 年份后两位
%m 完整月份
%h 当月
%d 完整日期
%H 当前小时
%M 分钟
%S 秒
%w 星期

```bash
$ date +%Y年
2020年
$ date "+%Y年"
2020年
$ date "+%Y年%m月%d日 %H:%M:%S 周%w"
2020年01月22日 11:59:36 周3
```

6.变量
变量名、变量值，`=`之间是不能有空格的
```bash
arg="命令"
arg=数字
```
变量的调用
```bash
$arg # 可以在引号中调用
```
7.计算
```bash
a=2;
b=3;
echo $[$b / $a]
```

8.延时
```bash
$ sleep [number]  #程序暂停多少秒
```
9.输入
参数:
-p 类似echo的功能
```bash
$ read arg
$ read -p "请输入:" arg && echo "您输入的值: $arg"
```

10.预设变量
例如，目录下的内容`ls -al`,这个`-al`就是预设变量
预设变量是没有限制的
shell脚本中，通过数字获得预设变量
```bash
$ echo $0 $1 $2 $3 $4 ...
```

11.逻辑判断
(1).不带`else`
```bash
read -p "请输入一个数:" x
if((x > 5));then
	echo "大于5"
fi
```
判断必须这么写`((a < b))`,少写会报错
(2).带`else`
```bash
read -p "请输入成绩:" x
if((x > 60));then
	echo "及格了"
else
	echo "不及格"
fi
```
(3).带`elif`
```bash
read -p "请输入成绩:" x
if ((x < 60));then
	echo "不及格"
elif ((x >= 60)) && ((x < 80));then
	echo "及格了"
else
	echo "优秀"
fi
```
(4).数值判断
在数值判断中，由于`>`,`<`,`=`符号已经被占用，数值判断可以使用`(())`,或者`[]`
小于`-lt`
大于`-gt`
小于等于`-le`
大于等于`-ge`
等于`-eq`
不等于`-ne`
(5).档案属性
-e 判断文件或目录是否存在
-d 判断是不是一个已存在的目录
-f 判断是不是一个存在的普通文件
-r 判断是不是具有只读权限
-w 判断是不是有写权限
-x 判断是不是可执行

使用格式
```bash
if [ 参数 file ];then
```










